2025-11-06 11:56:58,891 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2025-11-06 11:56:58,891 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2025-11-10 12:23:17,900 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2025-11-10 12:23:17,900 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2025-11-10 12:23:40,833 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, intercepting: False, intelligent: False, phi: True
2025-11-10 12:23:40,834 - phi_educational_agent - INFO - Initializing PhiEducationalAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2025-11-10 12:23:40,848 - phi_educational_agent - INFO - PhiEducationalAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2025-11-10 12:23:40,848 - main - INFO - Created phi agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2025-11-10 12:23:40,849 - main - INFO - üî• Using Phi Native Agent (dynamic SQL generation from natural language)
2025-11-10 12:23:40,849 - phi_educational_agent - INFO - === PHI AGENT PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2025-11-10 12:23:40,849 - phi_educational_agent - INFO - User Query: Show me the list of authorized paid softwares with investment amount
2025-11-10 12:23:43,549 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-10 12:24:30,509 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-10 12:24:31,575 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2025-11-10 12:24:31,581 - phi_educational_agent - INFO - √¢≈ì‚Ä¶ PHI AGENT COMPLETED successfully
2025-11-10 12:24:31,581 - main - INFO - üìä Execution Summary (phi_native): Dynamic SQL generation completed
2025-11-12 13:40:37,233 - __main__ - INFO - üîí CORS allowed origins: ['http://localhost:3000', 'http://localhost:8000', 'http://localhost:8001', 'http://127.0.0.1:3000', 'http://127.0.0.1:8000', 'http://127.0.0.1:8001', 'https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai']
2025-11-12 13:40:37,237 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2025-11-12 13:40:37,237 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2025-11-12 13:40:37,271 - main - INFO - üîí CORS allowed origins: ['http://localhost:3000', 'http://localhost:8000', 'http://localhost:8001', 'http://127.0.0.1:3000', 'http://127.0.0.1:8000', 'http://127.0.0.1:8001', 'https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai']
2025-11-12 13:40:40,944 - main - INFO - üì® Incoming Request - Origin: swye360.ai | Referer: No Referer | Host: localhost:8000 | Path: /health
2025-11-12 13:40:40,944 - main - ERROR - üö´ BLOCKED - Origin NOT in allowed list: swye360.ai
2025-11-12 13:41:22,700 - main - INFO - üì® Incoming Request - Origin: swye360.ai | Referer: No Referer | Host: localhost:8000 | Path: /health
2025-11-12 13:41:22,701 - main - ERROR - üö´ BLOCKED - Origin NOT in allowed list: swye360.ai
2025-11-12 13:41:26,018 - __main__ - INFO - üîí CORS allowed origins: ['http://localhost:3000', 'http://localhost:8000', 'http://localhost:8001', 'http://127.0.0.1:3000', 'http://127.0.0.1:8000', 'http://127.0.0.1:8001', 'https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai']
2025-11-12 13:41:26,021 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2025-11-12 13:41:26,021 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2025-11-12 13:41:26,047 - main - INFO - üîí CORS allowed origins: ['http://localhost:3000', 'http://localhost:8000', 'http://localhost:8001', 'http://127.0.0.1:3000', 'http://127.0.0.1:8000', 'http://127.0.0.1:8001', 'https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai']
2025-11-12 13:41:27,714 - main - INFO - üì® Incoming Request - Origin: swye360.ai | Referer: No Referer | Host: localhost:8000 | Path: /health
2025-11-12 13:41:27,714 - main - ERROR - üö´ BLOCKED - Origin NOT in allowed list: swye360.ai
2025-11-12 13:41:36,656 - main - INFO - üì® Incoming Request - Origin: swye360.ai | Referer: No Referer | Host: localhost:8000 | Path: /health
2025-11-12 13:41:36,656 - main - ERROR - üö´ BLOCKED - Origin NOT in allowed list: swye360.ai
2025-11-12 13:41:42,363 - main - INFO - üì® Incoming Request - Origin: No Origin Header | Referer: No Referer | Host: localhost:8000 | Path: /health
2025-11-12 13:41:42,363 - main - INFO - ‚ÑπÔ∏è  No Origin header - allowing request (direct API access)
2025-11-12 13:41:42,366 - tool_intercepting_agent - INFO - Initializing ToolCallInterceptingAgent for district: test
2025-11-12 13:41:42,368 - tool_intercepting_agent - INFO - Agent initialized successfully for district: test
2025-11-12 13:48:19,339 - __main__ - INFO - üîí CORS allowed origins: ['http://localhost:3000', 'http://localhost:8000', 'http://localhost:8001', 'http://127.0.0.1:3000', 'http://127.0.0.1:8000', 'http://127.0.0.1:8001', 'https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai']
2025-11-12 13:48:19,342 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2025-11-12 13:48:19,343 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2025-11-12 13:48:19,369 - main - INFO - üîí CORS allowed origins: ['http://localhost:3000', 'http://localhost:8000', 'http://localhost:8001', 'http://127.0.0.1:3000', 'http://127.0.0.1:8000', 'http://127.0.0.1:8001', 'https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai']
2025-11-12 13:48:27,246 - main - INFO - üì® Incoming Request - Origin: swye360.ai | Referer: No Referer | Host: localhost:8000 | Path: /health
2025-11-12 13:48:27,246 - main - ERROR - üö´ BLOCKED - Origin NOT in allowed list: swye360.ai
2025-11-12 13:48:43,979 - main - INFO - üì® Incoming Request - Origin: https://swye360.ai | Referer: No Referer | Host: localhost:8000 | Path: /health
2025-11-12 13:48:43,979 - main - INFO - ‚úÖ Origin ALLOWED: https://swye360.ai
2025-11-12 13:48:43,982 - tool_intercepting_agent - INFO - Initializing ToolCallInterceptingAgent for district: test
2025-11-12 13:48:43,984 - tool_intercepting_agent - INFO - Agent initialized successfully for district: test
2025-11-12 14:25:15,255 - __main__ - INFO - üîí CORS allowed origins: ['http://localhost:3000', 'http://localhost:8000', 'http://localhost:8001', 'http://127.0.0.1:3000', 'http://127.0.0.1:8000', 'http://127.0.0.1:8001', 'https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai']
2025-11-12 14:25:15,259 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2025-11-12 14:25:15,259 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2025-11-12 14:25:15,290 - main - INFO - üîí CORS allowed origins: ['http://localhost:3000', 'http://localhost:8000', 'http://localhost:8001', 'http://127.0.0.1:3000', 'http://127.0.0.1:8000', 'http://127.0.0.1:8001', 'https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai']
2025-11-12 14:25:18,800 - main - INFO - üì® Incoming Request - Origin: No Origin Header | Referer: No Referer | Host: localhost:8000 | Path: /health
2025-11-12 14:25:18,801 - main - ERROR - üö´ BLOCKED - No Origin header present for path: /health
2025-11-17 19:27:16,294 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2025-11-17 19:27:16,298 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2025-11-17 19:27:16,298 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2025-11-17 19:27:16,367 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2025-11-17 19:27:26,842 - main - INFO - üì® Incoming Request - Origin: No Origin Header | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2025-11-17 19:27:26,843 - main - ERROR - üö´ BLOCKED - No Origin header present for path: /api/ask
2025-11-17 20:00:45,547 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2025-11-17 20:00:45,552 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2025-11-17 20:00:45,552 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2025-11-17 20:00:45,581 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2025-11-17 20:02:40,086 - main - INFO - üì® Incoming Request - Origin: No Origin Header | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2025-11-17 20:02:40,087 - main - ERROR - üö´ BLOCKED - No Origin header present for path: /api/ask
2025-11-17 20:11:51,615 - main - INFO - üì® Incoming Request - Origin: https://swye360.ai/ | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2025-11-17 20:11:51,617 - main - ERROR - üö´ BLOCKED - Origin NOT in allowed list: https://swye360.ai/
2025-11-17 20:12:11,575 - main - INFO - üì® Incoming Request - Origin: https://swye360.ai/ | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2025-11-17 20:12:11,577 - main - ERROR - üö´ BLOCKED - Origin NOT in allowed list: https://swye360.ai/
2025-11-17 20:12:21,883 - main - INFO - üì® Incoming Request - Origin: https://swye360.ai/ | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2025-11-17 20:12:21,888 - main - ERROR - üö´ BLOCKED - Origin NOT in allowed list: https://swye360.ai/
2025-11-17 20:12:31,103 - main - INFO - üì® Incoming Request - Origin: swye360.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2025-11-17 20:12:31,104 - main - ERROR - üö´ BLOCKED - Origin NOT in allowed list: swye360.ai
2025-11-17 20:13:03,281 - main - INFO - üì® Incoming Request - Origin: https://preview--roi-bright-future.lovable.app/ | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2025-11-17 20:13:03,283 - main - ERROR - üö´ BLOCKED - Origin NOT in allowed list: https://preview--roi-bright-future.lovable.app/
2025-11-17 20:13:20,653 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2025-11-17 20:13:20,657 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2025-11-17 20:13:50,349 - main - INFO - üì® Incoming Request - Origin: No Origin Header | Referer: No Referer | Host: localhost:8000 | Path: /api/health
2025-11-17 20:13:50,350 - main - ERROR - üö´ BLOCKED - No Origin header present for path: /api/health
2025-11-17 20:13:51,773 - main - INFO - üì® Incoming Request - Origin: No Origin Header | Referer: No Referer | Host: localhost:8000 | Path: /api/health
2025-11-17 20:13:51,773 - main - ERROR - üö´ BLOCKED - No Origin header present for path: /api/health
2025-11-17 20:14:06,634 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/health
2025-11-17 20:14:06,636 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2025-11-17 20:14:12,638 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/health
2025-11-17 20:14:12,639 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2025-11-17 20:14:18,571 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2025-11-17 20:14:18,572 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2025-11-17 20:14:33,880 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2025-11-17 20:14:33,882 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2025-11-17 20:14:33,886 - main - INFO - Received request for district 460a1bae-1070-4090-908d-6b3d02e74325, verbose: True, intercepting: False, intelligent: False, phi: True
2025-11-17 20:14:33,888 - phi_educational_agent - INFO - Initializing PhiEducationalAgent for district: 460a1bae-1070-4090-908d-6b3d02e74325
2025-11-17 20:14:33,914 - phi_educational_agent - INFO - PhiEducationalAgent initialized successfully for district: 460a1bae-1070-4090-908d-6b3d02e74325
2025-11-17 20:14:33,914 - main - INFO - Created phi agent for district: 460a1bae-1070-4090-908d-6b3d02e74325
2025-11-17 20:14:33,914 - main - INFO - üî• Using Phi Native Agent (dynamic SQL generation from natural language)
2025-11-17 20:14:33,914 - phi_educational_agent - INFO - === PHI AGENT PROCESSING FOR DISTRICT 460a1bae-1070-4090-908d-6b3d02e74325 ===
2025-11-17 20:14:33,914 - phi_educational_agent - INFO - User Query: What paid math software is most used in middle school ?
2025-11-17 20:14:38,775 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:14:46,398 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:14:53,137 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:14:59,380 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:15:04,033 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:15:08,626 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:15:14,544 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:15:20,478 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:15:24,596 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:15:29,603 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:15:34,472 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:15:42,950 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:15:47,921 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:15:52,738 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:15:59,519 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:16:06,078 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:16:11,420 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:16:16,752 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:16:22,292 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:16:27,782 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:16:36,035 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:16:40,757 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:16:45,769 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:16:50,471 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:16:55,149 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:17:00,820 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:17:05,903 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:17:11,276 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:17:14,733 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:17:20,390 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:17:23,907 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:17:28,268 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:17:58,330 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:18:21,649 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 20:18:22,757 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2025-11-17 20:18:22,765 - phi_educational_agent - INFO - √¢≈ì‚Ä¶ PHI AGENT COMPLETED successfully
2025-11-17 20:18:22,766 - main - INFO - üìä Execution Summary (phi_native): Dynamic SQL generation completed
2025-11-17 21:11:07,188 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2025-11-17 21:11:07,190 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2025-11-17 21:11:07,204 - main - INFO - Received request for district 460a1bae-1070-4090-908d-6b3d02e74325, verbose: True, intercepting: False, intelligent: False, phi: True
2025-11-17 21:11:07,204 - main - INFO - üî• Using Phi Native Agent (dynamic SQL generation from natural language)
2025-11-17 21:11:07,205 - phi_educational_agent - INFO - === PHI AGENT PROCESSING FOR DISTRICT 460a1bae-1070-4090-908d-6b3d02e74325 ===
2025-11-17 21:11:07,205 - phi_educational_agent - INFO - User Query: What paid math software is most used in middle school ?
2025-11-17 21:11:13,125 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-17 21:12:12,222 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2025-11-17 21:12:12,226 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2025-11-17 21:12:12,226 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2025-11-17 21:12:12,256 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 14:59:35,910 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 14:59:35,914 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-15 14:59:35,914 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-15 14:59:36,052 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 14:59:39,291 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 14:59:39,291 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 14:59:39,301 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 14:59:39,301 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 14:59:39,302 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 14:59:39,302 - main - INFO - Created MV-optimized agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 14:59:39,302 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 14:59:39,302 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 14:59:39,302 - mv_optimized_agent - INFO - User Query: show all the active profiles with total usage hours for each of them
2026-01-15 14:59:39,302 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 14:59:39,302 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 14:59:39,303 - mv_optimized_agent - INFO -    Primary Intent: software_usage
2026-01-15 14:59:39,303 - mv_optimized_agent - INFO -    All Intents: ['software_usage', 'user_analytics', 'active_users']
2026-01-15 14:59:39,303 - mv_optimized_agent - INFO -    Best MV: mv_dashboard_software_metrics
2026-01-15 14:59:39,303 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 14:59:41,077 - mv_query_router - WARNING - Connection error (attempt 1): connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 14:59:42,632 - mv_query_router - WARNING - Connection error (attempt 2): connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 14:59:42,632 - mv_query_router - ERROR - Query failed after 2 attempts: connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 14:59:42,633 - mv_optimized_agent - ERROR -    ‚ùå Dashboard metrics failed: connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 14:59:42,633 - mv_optimized_agent - INFO -    üìä Calling get_software_analytics()...
2026-01-15 14:59:44,231 - mv_query_router - WARNING - Connection error (attempt 1): connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 14:59:45,768 - mv_query_router - WARNING - Connection error (attempt 2): connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 14:59:45,769 - mv_query_router - ERROR - Query failed after 2 attempts: connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 14:59:45,769 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 14:59:54,207 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 14:59:55,334 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 14:59:55,336 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 16.03s
2026-01-15 14:59:55,336 - mv_optimized_agent - INFO - üìä MV Queries Executed: 0
2026-01-15 14:59:55,336 - mv_optimized_agent - INFO - üß† Primary Intent: software_usage
2026-01-15 14:59:55,336 - mv_optimized_agent - INFO - üìÅ Best MV: mv_dashboard_software_metrics
2026-01-15 14:59:55,336 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "show all the active profiles with total usage hours for each of them",
  "mv_queries": [],
  "intents": [
    "software_usage",
    "user_analytics",
    "active_users"
  ],
  "execution_time": 16.033714056015015,
  "error": null,
  "primary_intent": "software_usage",
  "best_mv": "mv_dashboard_software_metrics"
}
2026-01-15 14:59:55,337 - main - INFO - üìä Execution Summary (mv_optimized): 0 MV queries, 16.03s, intent: software_usage, best_mv: mv_dashboard_software_metrics
2026-01-15 15:02:26,982 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:02:26,983 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:02:26,987 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:02:26,988 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:02:26,988 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:02:26,988 - mv_optimized_agent - INFO - User Query: show all the active profiles with total usage hours for each of them
2026-01-15 15:02:26,988 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:02:26,988 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:02:26,988 - mv_optimized_agent - INFO -    Primary Intent: software_usage
2026-01-15 15:02:26,988 - mv_optimized_agent - INFO -    All Intents: ['software_usage', 'user_analytics', 'active_users']
2026-01-15 15:02:26,989 - mv_optimized_agent - INFO -    Best MV: mv_dashboard_software_metrics
2026-01-15 15:02:26,989 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:02:28,579 - mv_query_router - WARNING - Connection error (attempt 1): connection to server at "aws-0-us-east-1.pooler.supabase.com" (44.216.29.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:02:30,175 - mv_query_router - WARNING - Connection error (attempt 2): connection to server at "aws-0-us-east-1.pooler.supabase.com" (44.216.29.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:02:30,176 - mv_query_router - ERROR - Query failed after 2 attempts: connection to server at "aws-0-us-east-1.pooler.supabase.com" (44.216.29.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:02:30,177 - mv_optimized_agent - ERROR -    ‚ùå Dashboard metrics failed: connection to server at "aws-0-us-east-1.pooler.supabase.com" (44.216.29.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:02:30,177 - mv_optimized_agent - INFO -    üìä Calling get_software_analytics()...
2026-01-15 15:02:31,758 - mv_query_router - WARNING - Connection error (attempt 1): connection to server at "aws-0-us-east-1.pooler.supabase.com" (44.216.29.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:02:33,288 - mv_query_router - WARNING - Connection error (attempt 2): connection to server at "aws-0-us-east-1.pooler.supabase.com" (44.216.29.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:02:33,288 - mv_query_router - ERROR - Query failed after 2 attempts: connection to server at "aws-0-us-east-1.pooler.supabase.com" (44.216.29.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:02:33,289 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:02:40,396 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:02:41,494 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:02:41,495 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 14.51s
2026-01-15 15:02:41,495 - mv_optimized_agent - INFO - üìä MV Queries Executed: 0
2026-01-15 15:02:41,495 - mv_optimized_agent - INFO - üß† Primary Intent: software_usage
2026-01-15 15:02:41,495 - mv_optimized_agent - INFO - üìÅ Best MV: mv_dashboard_software_metrics
2026-01-15 15:02:41,495 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "show all the active profiles with total usage hours for each of them",
  "mv_queries": [],
  "intents": [
    "software_usage",
    "user_analytics",
    "active_users"
  ],
  "execution_time": 14.507072925567627,
  "error": null,
  "primary_intent": "software_usage",
  "best_mv": "mv_dashboard_software_metrics"
}
2026-01-15 15:02:41,495 - main - INFO - üìä Execution Summary (mv_optimized): 0 MV queries, 14.51s, intent: software_usage, best_mv: mv_dashboard_software_metrics
2026-01-15 15:02:49,059 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:02:49,062 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-15 15:02:49,062 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-15 15:02:49,092 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:02:53,577 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:02:53,577 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:02:53,586 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:02:53,586 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:02:53,587 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:02:53,587 - main - INFO - Created MV-optimized agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:02:53,587 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:02:53,587 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:02:53,587 - mv_optimized_agent - INFO - User Query: show all the active profiles with total usage hours for each of them
2026-01-15 15:02:53,587 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:02:53,587 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:02:53,588 - mv_optimized_agent - INFO -    Primary Intent: software_usage
2026-01-15 15:02:53,588 - mv_optimized_agent - INFO -    All Intents: ['software_usage', 'user_analytics', 'active_users']
2026-01-15 15:02:53,588 - mv_optimized_agent - INFO -    Best MV: mv_dashboard_software_metrics
2026-01-15 15:02:53,588 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:02:54,034 - mv_query_router - WARNING - Connection error (attempt 1): could not translate host name "db.ytpwaryvxdrwtevltgwp.supabase.co" to address: nodename nor servname provided, or not known

2026-01-15 15:02:54,036 - mv_query_router - WARNING - Connection error (attempt 2): could not translate host name "db.ytpwaryvxdrwtevltgwp.supabase.co" to address: nodename nor servname provided, or not known

2026-01-15 15:02:54,036 - mv_query_router - ERROR - Query failed after 2 attempts: could not translate host name "db.ytpwaryvxdrwtevltgwp.supabase.co" to address: nodename nor servname provided, or not known

2026-01-15 15:02:54,036 - mv_optimized_agent - ERROR -    ‚ùå Dashboard metrics failed: could not translate host name "db.ytpwaryvxdrwtevltgwp.supabase.co" to address: nodename nor servname provided, or not known

2026-01-15 15:02:54,036 - mv_optimized_agent - INFO -    üìä Calling get_software_analytics()...
2026-01-15 15:02:54,037 - mv_query_router - WARNING - Connection error (attempt 1): could not translate host name "db.ytpwaryvxdrwtevltgwp.supabase.co" to address: nodename nor servname provided, or not known

2026-01-15 15:02:54,038 - mv_query_router - WARNING - Connection error (attempt 2): could not translate host name "db.ytpwaryvxdrwtevltgwp.supabase.co" to address: nodename nor servname provided, or not known

2026-01-15 15:02:54,038 - mv_query_router - ERROR - Query failed after 2 attempts: could not translate host name "db.ytpwaryvxdrwtevltgwp.supabase.co" to address: nodename nor servname provided, or not known

2026-01-15 15:02:54,039 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:03:00,302 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:03:01,379 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:03:01,380 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 7.79s
2026-01-15 15:03:01,380 - mv_optimized_agent - INFO - üìä MV Queries Executed: 0
2026-01-15 15:03:01,381 - mv_optimized_agent - INFO - üß† Primary Intent: software_usage
2026-01-15 15:03:01,381 - mv_optimized_agent - INFO - üìÅ Best MV: mv_dashboard_software_metrics
2026-01-15 15:03:01,381 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "show all the active profiles with total usage hours for each of them",
  "mv_queries": [],
  "intents": [
    "software_usage",
    "user_analytics",
    "active_users"
  ],
  "execution_time": 7.792880058288574,
  "error": null,
  "primary_intent": "software_usage",
  "best_mv": "mv_dashboard_software_metrics"
}
2026-01-15 15:03:01,381 - main - INFO - üìä Execution Summary (mv_optimized): 0 MV queries, 7.79s, intent: software_usage, best_mv: mv_dashboard_software_metrics
2026-01-15 15:04:46,752 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:04:46,754 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-15 15:04:46,754 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-15 15:04:46,786 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:04:56,547 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:04:56,547 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:04:56,550 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:04:56,551 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:04:56,551 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:04:56,551 - main - INFO - Created MV-optimized agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:04:56,551 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:04:56,551 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:04:56,551 - mv_optimized_agent - INFO - User Query: show all the active profiles with total usage hours for each of them
2026-01-15 15:04:56,551 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:04:56,552 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:04:56,552 - mv_optimized_agent - INFO -    Primary Intent: software_usage
2026-01-15 15:04:56,552 - mv_optimized_agent - INFO -    All Intents: ['software_usage', 'user_analytics', 'active_users']
2026-01-15 15:04:56,552 - mv_optimized_agent - INFO -    Best MV: mv_dashboard_software_metrics
2026-01-15 15:04:56,552 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:04:58,180 - mv_query_router - WARNING - Connection error (attempt 1): connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:04:59,763 - mv_query_router - WARNING - Connection error (attempt 2): connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:04:59,764 - mv_query_router - ERROR - Query failed after 2 attempts: connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:04:59,764 - mv_optimized_agent - ERROR -    ‚ùå Dashboard metrics failed: connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:04:59,764 - mv_optimized_agent - INFO -    üìä Calling get_software_analytics()...
2026-01-15 15:05:01,343 - mv_query_router - WARNING - Connection error (attempt 1): connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:05:02,912 - mv_query_router - WARNING - Connection error (attempt 2): connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:05:02,913 - mv_query_router - ERROR - Query failed after 2 attempts: connection to server at "aws-0-us-east-1.pooler.supabase.com" (52.45.94.125), port 5432 failed: SSL connection has been closed unexpectedly

2026-01-15 15:05:02,913 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:05:09,717 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:05:10,812 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:05:10,814 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 14.26s
2026-01-15 15:05:10,814 - mv_optimized_agent - INFO - üìä MV Queries Executed: 0
2026-01-15 15:05:10,815 - mv_optimized_agent - INFO - üß† Primary Intent: software_usage
2026-01-15 15:05:10,815 - mv_optimized_agent - INFO - üìÅ Best MV: mv_dashboard_software_metrics
2026-01-15 15:05:10,815 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "show all the active profiles with total usage hours for each of them",
  "mv_queries": [],
  "intents": [
    "software_usage",
    "user_analytics",
    "active_users"
  ],
  "execution_time": 14.262746095657349,
  "error": null,
  "primary_intent": "software_usage",
  "best_mv": "mv_dashboard_software_metrics"
}
2026-01-15 15:05:10,815 - main - INFO - üìä Execution Summary (mv_optimized): 0 MV queries, 14.26s, intent: software_usage, best_mv: mv_dashboard_software_metrics
2026-01-15 15:05:59,413 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:05:59,421 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-15 15:05:59,421 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-15 15:05:59,575 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:06:02,956 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:06:02,961 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:06:03,003 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:06:03,004 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:06:03,013 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:06:03,014 - main - INFO - Created MV-optimized agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:06:03,024 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:06:03,024 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:06:03,024 - mv_optimized_agent - INFO - User Query: show all the active profiles with total usage hours for each of them
2026-01-15 15:06:03,025 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:06:03,025 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:06:03,025 - mv_optimized_agent - INFO -    Primary Intent: software_usage
2026-01-15 15:06:03,025 - mv_optimized_agent - INFO -    All Intents: ['software_usage', 'user_analytics', 'active_users']
2026-01-15 15:06:03,025 - mv_optimized_agent - INFO -    Best MV: mv_dashboard_software_metrics
2026-01-15 15:06:03,025 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:06:06,544 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 3.519s
2026-01-15 15:06:06,544 - mv_optimized_agent - INFO -    üìä Calling get_software_analytics()...
2026-01-15 15:06:06,876 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:06:30,491 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:06:31,568 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:06:31,569 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 28.54s
2026-01-15 15:06:31,569 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-15 15:06:31,569 - mv_optimized_agent - INFO - üß† Primary Intent: software_usage
2026-01-15 15:06:31,569 - mv_optimized_agent - INFO - üìÅ Best MV: mv_dashboard_software_metrics
2026-01-15 15:06:31,569 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "show all the active profiles with total usage hours for each of them",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 3.518686056137085
    },
    {
      "method": "get_software_analytics",
      "mv_used": "mv_software_usage_analytics_v4",
      "execution_time": 0.33159399032592773
    }
  ],
  "intents": [
    "software_usage",
    "user_analytics",
    "active_users"
  ],
  "execution_time": 28.544415950775146,
  "error": null,
  "primary_intent": "software_usage",
  "best_mv": "mv_dashboard_software_metrics"
}
2026-01-15 15:06:31,570 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 28.54s, intent: software_usage, best_mv: mv_dashboard_software_metrics
2026-01-15 15:24:51,468 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:24:51,472 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-15 15:24:51,472 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-15 15:24:51,506 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:24:55,663 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:24:55,664 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:24:55,665 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:24:55,665 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:24:55,665 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:24:55,665 - main - INFO - Created MV-optimized agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:24:55,666 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:24:55,666 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:24:55,666 - mv_optimized_agent - INFO - User Query: show all the active profiles with total usage hours for each of them
2026-01-15 15:24:55,666 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:24:55,666 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:24:55,666 - mv_optimized_agent - INFO -    Primary Intent: active_users
2026-01-15 15:24:55,666 - mv_optimized_agent - INFO -    All Intents: ['active_users']
2026-01-15 15:24:55,666 - mv_optimized_agent - INFO -    Best MV: mv_dashboard_user_analytics
2026-01-15 15:24:55,666 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:24:58,114 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 2.448s
2026-01-15 15:24:58,114 - mv_optimized_agent - INFO -    üìä Calling get_active_users_summary()...
2026-01-15 15:24:58,698 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:25:20,885 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:25:21,966 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:25:21,967 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 26.30s
2026-01-15 15:25:21,967 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-15 15:25:21,967 - mv_optimized_agent - INFO - üß† Primary Intent: active_users
2026-01-15 15:25:21,967 - mv_optimized_agent - INFO - üìÅ Best MV: mv_dashboard_user_analytics
2026-01-15 15:25:21,967 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "show all the active profiles with total usage hours for each of them",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 2.447831630706787
    },
    {
      "method": "get_active_users_summary",
      "mv_used": "mv_active_users_summary",
      "execution_time": 0.5838918685913086
    }
  ],
  "intents": [
    "active_users"
  ],
  "execution_time": 26.30133080482483,
  "error": null,
  "primary_intent": "active_users",
  "best_mv": "mv_dashboard_user_analytics"
}
2026-01-15 15:25:21,967 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 26.30s, intent: active_users, best_mv: mv_dashboard_user_analytics
2026-01-15 15:26:59,516 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:26:59,517 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:26:59,521 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:26:59,521 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:26:59,521 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:26:59,521 - mv_optimized_agent - INFO - User Query: Generate a report on usage data for all the active users shown in a list
2026-01-15 15:26:59,521 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:26:59,521 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:26:59,522 - mv_optimized_agent - INFO -    Primary Intent: user_analytics
2026-01-15 15:26:59,522 - mv_optimized_agent - INFO -    All Intents: ['user_analytics', 'report_generation', 'active_users']
2026-01-15 15:26:59,522 - mv_optimized_agent - INFO -    Best MV: mv_dashboard_user_analytics
2026-01-15 15:26:59,522 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:27:00,041 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 0.519s
2026-01-15 15:27:00,041 - mv_optimized_agent - INFO -    üìä Calling get_user_analytics()...
2026-01-15 15:27:00,816 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:27:25,540 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:27:26,598 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:27:26,600 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 27.08s
2026-01-15 15:27:26,600 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-15 15:27:26,600 - mv_optimized_agent - INFO - üß† Primary Intent: user_analytics
2026-01-15 15:27:26,601 - mv_optimized_agent - INFO - üìÅ Best MV: mv_dashboard_user_analytics
2026-01-15 15:27:26,601 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "Generate a report on usage data for all the active users shown in a list",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 0.5191030502319336
    },
    {
      "method": "get_user_analytics",
      "mv_used": "mv_dashboard_user_analytics",
      "execution_time": 0.7747399806976318
    }
  ],
  "intents": [
    "user_analytics",
    "report_generation",
    "active_users"
  ],
  "execution_time": 27.078787803649902,
  "error": null,
  "primary_intent": "user_analytics",
  "best_mv": "mv_dashboard_user_analytics"
}
2026-01-15 15:27:26,602 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 27.08s, intent: user_analytics, best_mv: mv_dashboard_user_analytics
2026-01-15 15:30:01,443 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:30:01,444 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:30:01,448 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:30:01,448 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:30:01,448 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:30:01,448 - mv_optimized_agent - INFO - User Query: Show me all the paid software list
2026-01-15 15:30:01,449 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:30:01,449 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:30:01,449 - mv_optimized_agent - INFO -    Primary Intent: software_usage
2026-01-15 15:30:01,449 - mv_optimized_agent - INFO -    All Intents: ['software_usage']
2026-01-15 15:30:01,449 - mv_optimized_agent - INFO -    Best MV: mv_dashboard_software_metrics
2026-01-15 15:30:01,449 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:30:01,969 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 0.520s
2026-01-15 15:30:01,970 - mv_optimized_agent - INFO -    üìä Calling get_software_analytics()...
2026-01-15 15:30:02,271 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:30:21,650 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:30:22,801 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:30:22,802 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 21.35s
2026-01-15 15:30:22,803 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-15 15:30:22,803 - mv_optimized_agent - INFO - üß† Primary Intent: software_usage
2026-01-15 15:30:22,803 - mv_optimized_agent - INFO - üìÅ Best MV: mv_dashboard_software_metrics
2026-01-15 15:30:22,803 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "Show me all the paid software list",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 0.5197880268096924
    },
    {
      "method": "get_software_analytics",
      "mv_used": "mv_software_usage_analytics_v4",
      "execution_time": 0.3015282154083252
    }
  ],
  "intents": [
    "software_usage"
  ],
  "execution_time": 21.35380506515503,
  "error": null,
  "primary_intent": "software_usage",
  "best_mv": "mv_dashboard_software_metrics"
}
2026-01-15 15:30:22,805 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 21.35s, intent: software_usage, best_mv: mv_dashboard_software_metrics
2026-01-15 15:34:36,899 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:34:36,903 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-15 15:34:36,903 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-15 15:34:36,933 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:34:40,788 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:34:40,788 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:34:40,790 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:34:40,790 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:34:40,792 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:34:40,792 - main - INFO - Created MV-optimized agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:34:40,792 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:34:40,792 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:34:40,793 - mv_optimized_agent - INFO - User Query: Generate a report on usage data for all the active users shown in a list
2026-01-15 15:34:40,793 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:34:45,702 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:34:45,723 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['active_users', 'report_generation']
2026-01-15 15:34:45,724 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:34:45,724 - mv_optimized_agent - INFO -    Primary Intent: active_users
2026-01-15 15:34:45,724 - mv_optimized_agent - INFO -    All Intents: ['active_users', 'report_generation']
2026-01-15 15:34:45,724 - mv_optimized_agent - INFO -    Best MV: mv_dashboard_user_analytics
2026-01-15 15:34:45,724 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:34:48,217 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 2.493s
2026-01-15 15:34:48,218 - mv_optimized_agent - INFO -    üìä Calling get_active_users_summary()...
2026-01-15 15:34:48,752 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:35:19,224 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:35:20,323 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:35:20,324 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 39.53s
2026-01-15 15:35:20,324 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-15 15:35:20,324 - mv_optimized_agent - INFO - üß† Primary Intent: active_users
2026-01-15 15:35:20,324 - mv_optimized_agent - INFO - üìÅ Best MV: mv_dashboard_user_analytics
2026-01-15 15:35:20,324 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "Generate a report on usage data for all the active users shown in a list",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 2.4925119876861572
    },
    {
      "method": "get_active_users_summary",
      "mv_used": "mv_active_users_summary",
      "execution_time": 0.5341336727142334
    }
  ],
  "intents": [
    "active_users",
    "report_generation"
  ],
  "execution_time": 39.53109622001648,
  "error": null,
  "primary_intent": "active_users",
  "best_mv": "mv_dashboard_user_analytics"
}
2026-01-15 15:35:20,325 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 39.53s, intent: active_users, best_mv: mv_dashboard_user_analytics
2026-01-15 15:36:06,961 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:36:06,962 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:36:06,966 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:36:06,967 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:36:06,967 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:36:06,967 - mv_optimized_agent - INFO - User Query: Show me all the paid software list
2026-01-15 15:36:06,967 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:36:07,697 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:36:07,702 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['software_investment']
2026-01-15 15:36:07,702 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:36:07,702 - mv_optimized_agent - INFO -    Primary Intent: software_investment
2026-01-15 15:36:07,703 - mv_optimized_agent - INFO -    All Intents: ['software_investment']
2026-01-15 15:36:07,703 - mv_optimized_agent - INFO -    Best MV: mv_software_investment_summary
2026-01-15 15:36:07,703 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:36:08,223 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 0.520s
2026-01-15 15:36:08,224 - mv_optimized_agent - INFO -    üìä Calling get_investment_analysis()...
2026-01-15 15:36:08,782 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:36:35,026 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:36:36,105 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:36:36,106 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 29.14s
2026-01-15 15:36:36,107 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-15 15:36:36,107 - mv_optimized_agent - INFO - üß† Primary Intent: software_investment
2026-01-15 15:36:36,107 - mv_optimized_agent - INFO - üìÅ Best MV: mv_software_investment_summary
2026-01-15 15:36:36,107 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "Show me all the paid software list",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 0.5203781127929688
    },
    {
      "method": "get_investment_analysis",
      "mv_used": "mv_software_investment_summary",
      "execution_time": 0.5567691326141357
    }
  ],
  "intents": [
    "software_investment"
  ],
  "execution_time": 29.13948917388916,
  "error": null,
  "primary_intent": "software_investment",
  "best_mv": "mv_software_investment_summary"
}
2026-01-15 15:36:36,107 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 29.14s, intent: software_investment, best_mv: mv_software_investment_summary
2026-01-15 15:39:56,948 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:39:56,953 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-15 15:39:56,953 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-15 15:39:56,988 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:40:08,696 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:40:08,696 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:40:08,698 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:40:08,699 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:40:08,700 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:40:08,700 - main - INFO - Created MV-optimized agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:40:08,700 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:40:08,700 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:40:08,700 - mv_optimized_agent - INFO - User Query: Show me all the paid software list
2026-01-15 15:40:08,700 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:40:09,761 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:40:09,790 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['software_investment']
2026-01-15 15:40:09,791 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:40:09,791 - mv_optimized_agent - INFO -    Primary Intent: software_investment
2026-01-15 15:40:09,791 - mv_optimized_agent - INFO -    All Intents: ['software_investment']
2026-01-15 15:40:09,791 - mv_optimized_agent - INFO -    Best MV: mv_software_investment_summary
2026-01-15 15:40:09,791 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:40:12,685 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 2.894s
2026-01-15 15:40:12,686 - mv_optimized_agent - INFO -    üìä Calling get_investment_analysis()...
2026-01-15 15:40:13,469 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:40:37,534 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:40:38,637 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:40:38,638 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 29.94s
2026-01-15 15:40:38,638 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-15 15:40:38,638 - mv_optimized_agent - INFO - üß† Primary Intent: software_investment
2026-01-15 15:40:38,639 - mv_optimized_agent - INFO - üìÅ Best MV: mv_software_investment_summary
2026-01-15 15:40:38,639 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "Show me all the paid software list",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 2.8941378593444824
    },
    {
      "method": "get_investment_analysis",
      "mv_used": "mv_software_investment_summary",
      "execution_time": 0.7831981182098389
    }
  ],
  "intents": [
    "software_investment"
  ],
  "execution_time": 29.937669277191162,
  "error": null,
  "primary_intent": "software_investment",
  "best_mv": "mv_software_investment_summary"
}
2026-01-15 15:40:38,640 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 29.94s, intent: software_investment, best_mv: mv_software_investment_summary
2026-01-15 15:42:47,480 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:42:47,484 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-15 15:42:47,484 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-15 15:42:47,510 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:42:50,269 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:42:50,269 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:42:50,270 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:42:50,271 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:42:50,271 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:42:50,271 - main - INFO - Created MV-optimized agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:42:50,271 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:42:50,271 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:42:50,271 - mv_optimized_agent - INFO - User Query: Show me all the paid software list
2026-01-15 15:42:50,272 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:42:51,696 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:42:51,727 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['software_investment']
2026-01-15 15:42:51,727 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:42:51,727 - mv_optimized_agent - INFO -    Primary Intent: software_investment
2026-01-15 15:42:51,727 - mv_optimized_agent - INFO -    All Intents: ['software_investment']
2026-01-15 15:42:51,727 - mv_optimized_agent - INFO -    Best MV: mv_software_investment_summary
2026-01-15 15:42:51,727 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:42:54,431 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 2.703s
2026-01-15 15:42:54,431 - mv_optimized_agent - INFO -    üìä Calling get_investment_analysis()...
2026-01-15 15:42:55,216 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:43:18,106 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:43:19,279 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:43:19,280 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 29.01s
2026-01-15 15:43:19,280 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-15 15:43:19,280 - mv_optimized_agent - INFO - üß† Primary Intent: software_investment
2026-01-15 15:43:19,280 - mv_optimized_agent - INFO - üìÅ Best MV: mv_software_investment_summary
2026-01-15 15:43:19,280 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "Show me all the paid software list",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 2.7034480571746826
    },
    {
      "method": "get_investment_analysis",
      "mv_used": "mv_software_investment_summary",
      "execution_time": 0.7847092151641846
    }
  ],
  "intents": [
    "software_investment"
  ],
  "execution_time": 29.00856590270996,
  "error": null,
  "primary_intent": "software_investment",
  "best_mv": "mv_software_investment_summary"
}
2026-01-15 15:43:19,280 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 29.01s, intent: software_investment, best_mv: mv_software_investment_summary
2026-01-15 15:46:23,570 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:46:23,575 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-15 15:46:23,575 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-15 15:46:23,602 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:46:27,910 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:46:27,911 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:46:27,912 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:46:27,912 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:46:27,913 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:46:27,913 - main - INFO - Created MV-optimized agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:46:27,913 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:46:27,913 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:46:27,913 - mv_optimized_agent - INFO - User Query: Show me all the paid software list
2026-01-15 15:46:27,913 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:46:28,788 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:46:28,812 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['software_investment']
2026-01-15 15:46:28,812 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:46:28,812 - mv_optimized_agent - INFO -    Primary Intent: software_investment
2026-01-15 15:46:28,812 - mv_optimized_agent - INFO -    All Intents: ['software_investment']
2026-01-15 15:46:28,812 - mv_optimized_agent - INFO -    Best MV: mv_software_investment_summary
2026-01-15 15:46:28,812 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:46:31,588 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 2.776s
2026-01-15 15:46:31,588 - mv_optimized_agent - INFO -    üìä Calling get_investment_analysis()...
2026-01-15 15:46:32,355 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:47:39,396 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:47:40,480 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:47:40,481 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 72.57s
2026-01-15 15:47:40,482 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-15 15:47:40,482 - mv_optimized_agent - INFO - üß† Primary Intent: software_investment
2026-01-15 15:47:40,482 - mv_optimized_agent - INFO - üìÅ Best MV: mv_software_investment_summary
2026-01-15 15:47:40,482 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "Show me all the paid software list",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 2.7760658264160156
    },
    {
      "method": "get_investment_analysis",
      "mv_used": "mv_software_investment_summary",
      "execution_time": 0.7659060955047607
    }
  ],
  "intents": [
    "software_investment"
  ],
  "execution_time": 72.56844401359558,
  "error": null,
  "primary_intent": "software_investment",
  "best_mv": "mv_software_investment_summary"
}
2026-01-15 15:47:40,483 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 72.57s, intent: software_investment, best_mv: mv_software_investment_summary
2026-01-15 15:48:35,062 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:48:35,064 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:48:35,067 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:48:35,068 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:48:35,068 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:48:35,068 - mv_optimized_agent - INFO - User Query: Generate a report on usage data for all the active users shown in a list
2026-01-15 15:48:35,068 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:48:36,097 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:48:36,102 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['active_users', 'report_generation']
2026-01-15 15:48:36,102 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:48:36,102 - mv_optimized_agent - INFO -    Primary Intent: active_users
2026-01-15 15:48:36,102 - mv_optimized_agent - INFO -    All Intents: ['active_users', 'report_generation']
2026-01-15 15:48:36,103 - mv_optimized_agent - INFO -    Best MV: mv_dashboard_user_analytics
2026-01-15 15:48:36,103 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:48:36,935 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 0.832s
2026-01-15 15:48:36,935 - mv_optimized_agent - INFO -    üìä Calling get_active_users_summary()...
2026-01-15 15:48:37,481 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:49:25,950 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:49:27,059 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:49:27,060 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 51.99s
2026-01-15 15:49:27,060 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-15 15:49:27,061 - mv_optimized_agent - INFO - üß† Primary Intent: active_users
2026-01-15 15:49:27,061 - mv_optimized_agent - INFO - üìÅ Best MV: mv_dashboard_user_analytics
2026-01-15 15:49:27,061 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "Generate a report on usage data for all the active users shown in a list",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 0.8321647644042969
    },
    {
      "method": "get_active_users_summary",
      "mv_used": "mv_active_users_summary",
      "execution_time": 0.5457470417022705
    }
  ],
  "intents": [
    "active_users",
    "report_generation"
  ],
  "execution_time": 51.992427110672,
  "error": null,
  "primary_intent": "active_users",
  "best_mv": "mv_dashboard_user_analytics"
}
2026-01-15 15:49:27,061 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 51.99s, intent: active_users, best_mv: mv_dashboard_user_analytics
2026-01-15 15:54:10,972 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:54:10,978 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-15 15:54:10,978 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-15 15:54:11,037 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-15 15:54:23,075 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 15:54:23,076 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 15:54:23,078 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 15:54:23,079 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:54:23,080 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:54:23,080 - main - INFO - Created MV-optimized agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-15 15:54:23,080 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 15:54:23,080 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 15:54:23,080 - mv_optimized_agent - INFO - User Query: Generate a report on usage data for all the active users shown in a list
2026-01-15 15:54:23,081 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 15:54:24,157 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:54:24,183 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['active_users', 'report_generation']
2026-01-15 15:54:24,183 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 15:54:24,183 - mv_optimized_agent - INFO -    Primary Intent: active_users
2026-01-15 15:54:24,183 - mv_optimized_agent - INFO -    All Intents: ['active_users', 'report_generation']
2026-01-15 15:54:24,183 - mv_optimized_agent - INFO -    Best MV: mv_dashboard_user_analytics
2026-01-15 15:54:24,183 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 15:54:26,935 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 2.752s
2026-01-15 15:54:26,937 - mv_optimized_agent - INFO -    üìä Calling get_active_users_summary()...
2026-01-15 15:54:28,106 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 15:57:24,204 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 15:57:25,602 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 15:57:25,603 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 182.52s
2026-01-15 15:57:25,603 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-15 15:57:25,604 - mv_optimized_agent - INFO - üß† Primary Intent: active_users
2026-01-15 15:57:25,604 - mv_optimized_agent - INFO - üìÅ Best MV: mv_dashboard_user_analytics
2026-01-15 15:57:25,605 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "Generate a report on usage data for all the active users shown in a list",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 2.7521772384643555
    },
    {
      "method": "get_active_users_summary",
      "mv_used": "mv_active_users_summary",
      "execution_time": 1.169360876083374
    }
  ],
  "intents": [
    "active_users",
    "report_generation"
  ],
  "execution_time": 182.52250385284424,
  "error": null,
  "primary_intent": "active_users",
  "best_mv": "mv_dashboard_user_analytics"
}
2026-01-15 15:57:25,609 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 182.52s, intent: active_users, best_mv: mv_dashboard_user_analytics
2026-01-15 16:00:19,243 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-15 16:00:19,245 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-15 16:00:19,249 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-15 16:00:19,249 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-15 16:00:19,249 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-15 16:00:19,249 - mv_optimized_agent - INFO - User Query: Show me all the paid software list
2026-01-15 16:00:19,249 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-15 16:00:19,984 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 16:00:19,989 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['software_investment']
2026-01-15 16:00:19,990 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-15 16:00:19,990 - mv_optimized_agent - INFO -    Primary Intent: software_investment
2026-01-15 16:00:19,990 - mv_optimized_agent - INFO -    All Intents: ['software_investment']
2026-01-15 16:00:19,990 - mv_optimized_agent - INFO -    Best MV: mv_software_investment_summary
2026-01-15 16:00:19,990 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-15 16:00:20,778 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 0.788s
2026-01-15 16:00:20,778 - mv_optimized_agent - INFO -    üìä Calling get_investment_analysis()...
2026-01-15 16:00:21,575 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-15 16:03:16,420 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-15 16:03:17,861 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-15 16:03:17,862 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 178.61s
2026-01-15 16:03:17,862 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-15 16:03:17,862 - mv_optimized_agent - INFO - üß† Primary Intent: software_investment
2026-01-15 16:03:17,862 - mv_optimized_agent - INFO - üìÅ Best MV: mv_software_investment_summary
2026-01-15 16:03:17,862 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "Show me all the paid software list",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 0.7876849174499512
    },
    {
      "method": "get_investment_analysis",
      "mv_used": "mv_software_investment_summary",
      "execution_time": 0.796623945236206
    }
  ],
  "intents": [
    "software_investment"
  ],
  "execution_time": 178.61259603500366,
  "error": null,
  "primary_intent": "software_investment",
  "best_mv": "mv_software_investment_summary"
}
2026-01-15 16:03:17,863 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 178.61s, intent: software_investment, best_mv: mv_software_investment_summary
2026-01-16 12:27:00,003 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-16 12:27:00,009 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-16 12:27:00,009 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-16 12:27:00,078 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-16 12:38:20,350 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-16 12:38:20,354 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-16 12:38:20,354 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-16 12:38:20,386 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-16 12:39:30,136 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-16 12:39:30,137 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-16 12:39:30,160 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-16 12:39:30,161 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-16 12:39:30,166 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-16 12:39:30,166 - main - INFO - Created MV-optimized agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-16 12:39:30,166 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-16 12:39:30,166 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-16 12:39:30,166 - mv_optimized_agent - INFO - User Query: Show me all the paid software list
2026-01-16 12:39:30,166 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-16 12:39:31,916 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-16 12:39:31,949 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['software_investment']
2026-01-16 12:39:31,949 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-16 12:39:31,949 - mv_optimized_agent - INFO -    Primary Intent: software_investment
2026-01-16 12:39:31,949 - mv_optimized_agent - INFO -    All Intents: ['software_investment']
2026-01-16 12:39:31,949 - mv_optimized_agent - INFO -    Best MV: mv_software_investment_summary
2026-01-16 12:39:31,949 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-16 12:39:35,025 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 3.075s
2026-01-16 12:39:35,026 - mv_optimized_agent - INFO -    üìä Calling get_investment_analysis()...
2026-01-16 12:39:35,971 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-16 12:43:04,416 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-16 12:43:06,847 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-16 12:43:06,919 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 216.75s
2026-01-16 12:43:06,921 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-16 12:43:06,921 - mv_optimized_agent - INFO - üß† Primary Intent: software_investment
2026-01-16 12:43:06,921 - mv_optimized_agent - INFO - üìÅ Best MV: mv_software_investment_summary
2026-01-16 12:43:06,931 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "Show me all the paid software list",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 3.074826955795288
    },
    {
      "method": "get_investment_analysis",
      "mv_used": "mv_software_investment_summary",
      "execution_time": 0.9445450305938721
    }
  ],
  "intents": [
    "software_investment"
  ],
  "execution_time": 216.752454996109,
  "error": null,
  "primary_intent": "software_investment",
  "best_mv": "mv_software_investment_summary"
}
2026-01-16 12:43:06,933 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 216.75s, intent: software_investment, best_mv: mv_software_investment_summary
2026-01-16 13:16:00,627 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask/stream
2026-01-16 13:16:00,740 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-16 13:16:07,106 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-16 13:16:07,118 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-16 13:16:07,118 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-16 13:16:07,224 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://preview--roi-bright-future.lovable.app']
2026-01-16 13:16:10,111 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask/stream
2026-01-16 13:16:10,111 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-16 13:16:10,114 - main - INFO - [STREAM] Received request for district your-district-id
2026-01-16 13:16:10,114 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: your-district-id
2026-01-16 13:16:10,152 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: your-district-id
2026-01-16 13:16:10,152 - main - INFO - Created MV-optimized agent for district: your-district-id
2026-01-16 13:16:10,152 - main - INFO - üöÄ [STREAM] Using MV-Optimized Agent with SSE streaming
2026-01-16 13:16:10,153 - mv_optimized_agent - INFO - === MV OPTIMIZED STREAMING FOR DISTRICT your-district-id ===
2026-01-16 13:16:10,153 - mv_optimized_agent - INFO - User Query: Show me all the paid software list
2026-01-16 13:16:10,153 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-16 13:16:11,279 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-16 13:16:11,311 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['software_investment']
2026-01-16 13:16:11,313 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-16 13:16:11,313 - mv_optimized_agent - INFO -    Primary Intent: software_investment
2026-01-16 13:16:11,313 - mv_optimized_agent - INFO -    All Intents: ['software_investment']
2026-01-16 13:16:11,313 - mv_optimized_agent - INFO -    Best MV: mv_software_investment_summary
2026-01-16 13:16:11,313 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-16 13:16:13,745 - mv_query_router - ERROR - Query execution error: invalid input syntax for type uuid: "your-district-id"
LINE 14:         WHERE district_id = 'your-district-id'
                                     ^

2026-01-16 13:16:13,745 - mv_query_router - ERROR - Query failed after 2 attempts: invalid input syntax for type uuid: "your-district-id"
LINE 14:         WHERE district_id = 'your-district-id'
                                     ^

2026-01-16 13:16:13,746 - mv_optimized_agent - ERROR -    ‚ùå Dashboard metrics failed: invalid input syntax for type uuid: "your-district-id"
LINE 14:         WHERE district_id = 'your-district-id'
                                     ^

2026-01-16 13:16:13,746 - mv_optimized_agent - INFO -    üìä Calling get_investment_analysis()...
2026-01-16 13:16:14,005 - mv_query_router - ERROR - Query execution error: invalid input syntax for type uuid: "your-district-id"
LINE 17:         WHERE district_id = 'your-district-id' AND total_inv...
                                     ^

2026-01-16 13:16:14,006 - mv_query_router - ERROR - Query failed after 2 attempts: invalid input syntax for type uuid: "your-district-id"
LINE 17:         WHERE district_id = 'your-district-id' AND total_inv...
                                     ^

2026-01-16 13:16:14,008 - mv_optimized_agent - INFO - üé® STEP 2: Streaming markdown analysis...
2026-01-16 13:16:15,303 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-16 13:16:39,555 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask
2026-01-16 13:16:39,557 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-16 13:16:39,563 - main - INFO - Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325, verbose: True, mv_optimized: True, intercepting: False, intelligent: False, phi: False
2026-01-16 13:16:39,564 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-16 13:16:39,921 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-16 13:16:39,925 - main - INFO - Created MV-optimized agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-16 13:16:39,925 - main - INFO - üöÄ Using MV-Optimized Agent (10-100x faster using materialized views)
2026-01-16 13:16:39,925 - mv_optimized_agent - INFO - === MV OPTIMIZED PROCESSING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-16 13:16:39,925 - mv_optimized_agent - INFO - User Query: Show me all the paid software list
2026-01-16 13:16:39,925 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-16 13:16:41,884 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-16 13:16:41,891 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['software_investment']
2026-01-16 13:16:41,891 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-16 13:16:41,891 - mv_optimized_agent - INFO -    Primary Intent: software_investment
2026-01-16 13:16:41,891 - mv_optimized_agent - INFO -    All Intents: ['software_investment']
2026-01-16 13:16:41,891 - mv_optimized_agent - INFO -    Best MV: mv_software_investment_summary
2026-01-16 13:16:41,891 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-16 13:16:44,489 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 2.597s
2026-01-16 13:16:44,490 - mv_optimized_agent - INFO -    üìä Calling get_investment_analysis()...
2026-01-16 13:16:45,284 - mv_optimized_agent - INFO - üé® STEP 2: Generating HTML analysis...
2026-01-16 13:19:07,565 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-16 13:19:08,861 - httpx - INFO - HTTP Request: POST https://api.phidata.com/v1/telemetry/agent/run/create "HTTP/1.1 200 OK"
2026-01-16 13:19:08,862 - mv_optimized_agent - INFO - ‚úÖ MV OPTIMIZED PROCESSING COMPLETED in 148.94s
2026-01-16 13:19:08,862 - mv_optimized_agent - INFO - üìä MV Queries Executed: 2
2026-01-16 13:19:08,862 - mv_optimized_agent - INFO - üß† Primary Intent: software_investment
2026-01-16 13:19:08,862 - mv_optimized_agent - INFO - üìÅ Best MV: mv_software_investment_summary
2026-01-16 13:19:08,862 - mv_optimized_agent - DEBUG - üìã Full Execution Log: {
  "district_id": "3ef51192-1070-4090-908d-ef3ab03b4325",
  "user_query": "Show me all the paid software list",
  "mv_queries": [
    {
      "method": "get_dashboard_metrics",
      "mv_used": "mv_dashboard_software_metrics",
      "execution_time": 2.597203016281128
    },
    {
      "method": "get_investment_analysis",
      "mv_used": "mv_software_investment_summary",
      "execution_time": 0.7940061092376709
    }
  ],
  "intents": [
    "software_investment"
  ],
  "execution_time": 148.93638706207275,
  "error": null,
  "primary_intent": "software_investment",
  "best_mv": "mv_software_investment_summary"
}
2026-01-16 13:19:08,864 - main - INFO - üìä Execution Summary (mv_optimized): 2 MV queries, 148.94s, intent: software_investment, best_mv: mv_software_investment_summary
2026-01-16 13:19:40,624 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask/stream
2026-01-16 13:19:40,626 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-16 13:19:40,635 - main - INFO - [STREAM] Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-16 13:19:40,636 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-16 13:19:40,669 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-16 13:19:40,669 - main - INFO - Created MV-optimized agent for district: 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-16 13:19:40,669 - main - INFO - üöÄ [STREAM] Using MV-Optimized Agent with SSE streaming
2026-01-16 13:19:40,669 - mv_optimized_agent - INFO - === MV OPTIMIZED STREAMING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-16 13:19:40,669 - mv_optimized_agent - INFO - User Query: Show me all the paid software list
2026-01-16 13:19:40,670 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-16 13:19:42,384 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-16 13:19:42,389 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['software_investment']
2026-01-16 13:19:42,389 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-16 13:19:42,390 - mv_optimized_agent - INFO -    Primary Intent: software_investment
2026-01-16 13:19:42,390 - mv_optimized_agent - INFO -    All Intents: ['software_investment']
2026-01-16 13:19:42,390 - mv_optimized_agent - INFO -    Best MV: mv_software_investment_summary
2026-01-16 13:19:42,390 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-16 13:19:46,279 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 3.889s
2026-01-16 13:19:46,280 - mv_optimized_agent - INFO -    üìä Calling get_investment_analysis()...
2026-01-16 13:19:47,069 - mv_optimized_agent - INFO - üé® STEP 2: Streaming markdown analysis...
2026-01-16 13:19:48,245 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-16 13:21:00,735 - mv_optimized_agent - INFO - ‚úÖ MV STREAMING COMPLETED in 80.06s
2026-01-16 13:22:33,865 - main - INFO - üì® Incoming Request - Origin: https://classsight.ai | Referer: No Referer | Host: localhost:8000 | Path: /api/ask/stream
2026-01-16 13:22:33,870 - main - INFO - ‚úÖ Origin ALLOWED: https://classsight.ai
2026-01-16 13:22:33,874 - main - INFO - [STREAM] Received request for district 3ef51192-1070-4090-908d-ef3ab03b4325
2026-01-16 13:22:33,874 - main - INFO - üöÄ [STREAM] Using MV-Optimized Agent with SSE streaming
2026-01-16 13:22:33,875 - mv_optimized_agent - INFO - === MV OPTIMIZED STREAMING FOR DISTRICT 3ef51192-1070-4090-908d-ef3ab03b4325 ===
2026-01-16 13:22:33,875 - mv_optimized_agent - INFO - User Query: Show we all the active users list
2026-01-16 13:22:33,875 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-16 13:22:34,568 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-16 13:22:34,575 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['active_users', 'user_analytics']
2026-01-16 13:22:34,575 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-16 13:22:34,575 - mv_optimized_agent - INFO -    Primary Intent: active_users
2026-01-16 13:22:34,575 - mv_optimized_agent - INFO -    All Intents: ['active_users', 'user_analytics']
2026-01-16 13:22:34,575 - mv_optimized_agent - INFO -    Best MV: mv_dashboard_user_analytics
2026-01-16 13:22:34,575 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-16 13:22:35,334 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 0.759s
2026-01-16 13:22:35,334 - mv_optimized_agent - INFO -    üìä Calling get_active_users_summary()...
2026-01-16 13:22:35,974 - mv_optimized_agent - INFO - üé® STEP 2: Streaming markdown analysis...
2026-01-16 13:22:36,978 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-16 13:23:47,229 - mv_optimized_agent - INFO - ‚úÖ MV STREAMING COMPLETED in 73.35s
2026-01-30 12:52:21,740 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://www.swye360.com', 'https://swye360.com', 'https://preview--roi-bright-future.lovable.app']
2026-01-30 12:52:21,750 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-30 12:52:21,750 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-30 12:52:21,914 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://www.swye360.com', 'https://swye360.com', 'https://preview--roi-bright-future.lovable.app']
2026-01-30 12:58:11,597 - main - INFO - üì® Incoming Request - Origin: http://localhost:8080 | Referer: http://localhost:8080/ | Host: 0.0.0.0:8000 | Path: /api/ask/stream
2026-01-30 12:58:11,598 - main - ERROR - üö´ BLOCKED - Origin NOT in allowed list: http://localhost:8080
2026-01-30 12:58:21,432 - main - INFO - üì® Incoming Request - Origin: http://localhost:8080 | Referer: http://localhost:8080/ | Host: 0.0.0.0:8000 | Path: /api/ask/stream
2026-01-30 12:58:21,442 - main - ERROR - üö´ BLOCKED - Origin NOT in allowed list: http://localhost:8080
2026-01-30 12:59:24,216 - __main__ - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://www.swye360.com', 'https://swye360.com', 'https://preview--roi-bright-future.lovable.app', 'http://localhost:8080']
2026-01-30 12:59:24,223 - __main__ - INFO - Starting FIXED Educational Analytics API on 0.0.0.0:8000
2026-01-30 12:59:24,223 - __main__ - INFO - üîß Tool Intercepting Agent available for guaranteed database calls!
2026-01-30 12:59:24,263 - main - INFO - üîí CORS allowed origins: ['https://classsight.ai', 'https://www.classsight.ai', 'https://swye360.ai', 'https://www.swye360.ai', 'https://www.swye360.com', 'https://swye360.com', 'https://preview--roi-bright-future.lovable.app', 'http://localhost:8080']
2026-01-30 12:59:28,658 - main - INFO - üì® Incoming Request - Origin: http://localhost:8080 | Referer: http://localhost:8080/ | Host: 0.0.0.0:8000 | Path: /api/ask/stream
2026-01-30 12:59:28,658 - main - INFO - ‚úÖ Origin ALLOWED: http://localhost:8080
2026-01-30 12:59:28,660 - main - INFO - üì® Incoming Request - Origin: http://localhost:8080 | Referer: http://localhost:8080/ | Host: 0.0.0.0:8000 | Path: /api/ask/stream
2026-01-30 12:59:28,660 - main - INFO - ‚úÖ Origin ALLOWED: http://localhost:8080
2026-01-30 12:59:28,660 - main - INFO - [STREAM] Received request for district 440134ca-1070-4090-908d-4ccecf934325
2026-01-30 12:59:28,661 - mv_optimized_agent - INFO - Initializing MVOptimizedAgent for district: 440134ca-1070-4090-908d-4ccecf934325
2026-01-30 12:59:28,707 - mv_optimized_agent - INFO - MVOptimizedAgent initialized successfully for district: 440134ca-1070-4090-908d-4ccecf934325
2026-01-30 12:59:28,707 - main - INFO - Created MV-optimized agent for district: 440134ca-1070-4090-908d-4ccecf934325
2026-01-30 12:59:28,707 - main - INFO - üöÄ [STREAM] Using MV-Optimized Agent with SSE streaming
2026-01-30 12:59:28,708 - mv_optimized_agent - INFO - === MV OPTIMIZED STREAMING FOR DISTRICT 440134ca-1070-4090-908d-4ccecf934325 ===
2026-01-30 12:59:28,708 - mv_optimized_agent - INFO - User Query: provide Peer District Benchmarking insights
2026-01-30 12:59:28,708 - mv_optimized_agent - INFO - üîß STEP 1: Calling materialized view tools...
2026-01-30 12:59:30,593 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 12:59:30,625 - mv_knowledge_registry - INFO - ü§ñ LLM Intent Classification: ['school_analysis', 'user_analytics']
2026-01-30 12:59:30,626 - mv_optimized_agent - INFO - üß† Query Intent Analysis:
2026-01-30 12:59:30,626 - mv_optimized_agent - INFO -    Primary Intent: school_analysis
2026-01-30 12:59:30,626 - mv_optimized_agent - INFO -    All Intents: ['school_analysis', 'user_analytics']
2026-01-30 12:59:30,626 - mv_optimized_agent - INFO -    Best MV: mv_report_data_unified_v4
2026-01-30 12:59:30,626 - mv_optimized_agent - INFO -    üìä Calling get_dashboard_metrics()...
2026-01-30 12:59:35,420 - mv_optimized_agent - INFO -    ‚úÖ Dashboard metrics retrieved in 4.792s
2026-01-30 12:59:35,424 - mv_optimized_agent - INFO -    üìä Calling get_school_analysis()...
2026-01-30 12:59:36,331 - mv_optimized_agent - INFO - üé® STEP 2: Streaming markdown analysis...
2026-01-30 12:59:39,663 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 13:00:03,225 - mv_optimized_agent - INFO - ‚úÖ MV STREAMING COMPLETED in 34.51s
